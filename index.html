<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For My Love ‚ù§Ô∏è</title>
  <style>
    body,html {
      margin:0; padding:0;
      width:100%; height:100%;
      overflow:hidden;
      font-family: 'Arial', sans-serif;
      background:#000; color:#fff;
      text-align:center;
    }
    section {
      display:none;
      width:100%; height:100%;
      position:absolute; top:0; left:0;
      justify-content:center;
      align-items:center;
      flex-direction:column;
      background-size:cover;
      background-position:center;
    }
    section.active { display:flex; }

    #start { background:url('ava.jpg') no-repeat center/cover; }
    #quiz { background:#111; }
    #teddy { background:#222; }
    #final { background:url('bva.jpg') no-repeat center/cover; }

    .heart {
      font-size:80px;
      animation: pulse 1s infinite;
      cursor:pointer;
    }
    @keyframes pulse {
      0%{ transform:scale(1); color:red;}
      50%{ transform:scale(1.2); color:deeppink;}
      100%{ transform:scale(1); color:red;}
    }
    .btn {
      background:pink; border:none; padding:10px 20px;
      margin:10px; font-size:18px; cursor:pointer;
      border-radius:8px;
    }
    .option { display:inline-block; margin:8px; padding:10px 20px; cursor:pointer;
      border-radius:6px; background:#333; color:#fff; }
    .option:hover { background:#555; }
    .hidden { display:none!important; }

    .teddy-choice img {
      width:120px; height:120px; object-fit:cover; margin:15px; cursor:pointer;
      border:3px solid transparent; border-radius:10px;
    }
    .teddy-choice img:hover { transform:scale(1.1); }
    #final-message {
      font-size:28px; color:white;
      background:rgba(0,0,0,0.5); padding:20px; border-radius:10px;
      max-width:90%;
    }
    #nameModal {
      position:absolute; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.9);
      display:flex; flex-direction:column; justify-content:center; align-items:center;
    }
    input {
      padding:10px; font-size:18px; border-radius:6px; border:none;
      margin-top:10px;
    }
  </style>
</head>
<body>

<audio id="bgm" src="ava_ja.mp3" autoplay loop></audio>

<!-- Start Screen -->
<section id="start" class="active">
  <div class="heart">‚ù§Ô∏è</div>
  <h2>Jaan ho na aap meri?</h2>
  <div>
    <button class="btn" onclick="yesStart()">Yes</button>
    <button class="btn" onclick="dodgeNo(this)">No</button>
  </div>
</section>

<!-- Full Name Modal -->
<div id="nameModal" class="hidden">
  <h2>Enter your full name:</h2>
  <input type="text" id="fullname" placeholder="Your full name">
  <button class="btn" onclick="checkName()">Submit</button>
  <p id="nameHint" style="color:pink; margin-top:10px;"></p>
</div>

<!-- Quiz Screen -->
<section id="quiz">
  <h2>Why are you so amazing?</h2>
  <div id="options"></div>
</section>

<!-- Teddy Game -->
<section id="teddy">
  <h2>"Numan should Marry whom in this World Competition?‚Äù</h2>
  <div class="teddy-choice">
    <img src="duck.jpg" alt="Duck">
    <img src="gulzar.jpg" alt="Gulzar">
    <img src="gabbar.jpg" alt="Gabbar">
    <img src="anjana.jpg" alt="Anjana">
    <img src="random.jpg" alt="Random">
    <img src="bva.jpg" alt="Her">
  </div>
</section>

<!-- Final Screen -->
<section id="final">
  <div id="final-message"></div>
</section>

<script>
  const start = document.getElementById('start');
  const nameModal = document.getElementById('nameModal');
  const quiz = document.getElementById('quiz');
  const teddy = document.getElementById('teddy');
  const final = document.getElementById('final');
  const bgm = document.getElementById('bgm');
  const optionsDiv = document.getElementById('options');
  const finalMsg = document.getElementById('final-message');
  const hint = document.getElementById('nameHint');

  let failCount = 0;

  function yesStart(){
    start.classList.remove('active');
    nameModal.classList.remove('hidden');
  }

  function dodgeNo(btn){
    btn.innerText = ["What?","Why?","I thought you loved me ;("][Math.floor(Math.random()*3)];
    // force YES button
    setTimeout(()=>{ btn.innerText="YES"; },3000);
  }

  function checkName(){
    let val = (document.getElementById('fullname').value || '').trim().toLowerCase();
    if(val.replace(/\s+/g,' ') === 'shaheen hassan'){
      nameModal.classList.add('hidden');
      goQuiz();
    } else {
      failCount++;
      if(failCount >= 2){
        hint.textContent = "Maybe try Shaheen with my last name ;)";
      } else {
        hint.textContent = "Try again ‚ù§Ô∏è";
      }
    }
  }

  // Quiz
  const positives = ["Your smile üíï","Your kindness ‚ú®","Your pets üêü","Your magic with food üç≤","Your look üí´","Your hug ü§ó","Your laugh üòç","Your eyes üëÄ","Your caring nature üå∏"];
  const negatives = ["Anger üò°","Jealousy üëø","Mood swings üòµ","Laziness üõå","Stubbornness üôÑ","Forgetting me üò¢"];

  function goQuiz(){
    quiz.classList.add('active');
    let opts = [...positives.map(o=>({text:o,pos:true})),...negatives.map(o=>({text:o,pos:false}))];
    opts.sort(()=>Math.random()-0.5);
    opts.forEach(o=>{
      let el=document.createElement('div');
      el.className='option';
      el.innerText=o.text;
      el.onclick=()=>chooseOption(el,o.pos);
      optionsDiv.appendChild(el);
    });
  }

  let chosen=0;
  function chooseOption(el,isPos){
    if(isPos){
      el.style.background="green"; el.onclick=null;
      chosen++;
      if(chosen>=5){
        quiz.classList.remove('active');
        goTeddy();
      }
    } else {
      el.style.opacity=0.3;
      el.innerText="Nope ‚ùå";
    }
  }

  // Teddy Game
  function goTeddy(){
    teddy.classList.add('active');
    teddy.querySelectorAll('img').forEach(img=>{
      img.onclick=()=>{
        if(img.alt==="Her"){
          teddy.classList.remove('active');
          goFinal();
        } else {
          img.style.animation="shake 0.5s";
          setTimeout(()=>{ img.style.animation=""; },500);
        }
      };
    });
  }

  // Final
  function goFinal(){
    final.classList.add('active');
    let msg="Always yours & I Love You Forever üíñ ‚Äì Numan";
    let i=0;
    let typer=setInterval(()=>{
      finalMsg.innerHTML+=msg[i];
      i++;
      if(i>=msg.length) clearInterval(typer);
    },100);
  }
</script>

</body>
</html>
