<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Love App</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
    body,html{height:100%;overflow:hidden}
    .screen{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:#000;color:#fff;text-align:center}
    .hidden{display:none}
    .bg{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}
    .heart{font-size:30px;position:absolute;animation:floatUp 6s linear forwards}
    @keyframes floatUp{0%{transform:translateY(100vh);opacity:1}100%{transform:translateY(-10vh);opacity:0}}
    .btn{padding:12px 24px;margin:8px;font-size:18px;border:none;border-radius:8px;cursor:pointer;background:#ff4d6d;color:#fff}
    #quiz-options{display:flex;flex-wrap:wrap;max-width:600px;justify-content:center}
    .opt{padding:12px 20px;margin:6px;border-radius:6px;background:#222;color:#fff;cursor:pointer;transition:.3s}
    .opt:hover{background:#ff4d6d}
    .tile-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;max-width:700px}
    .tile{width:180px;height:180px;cursor:pointer;position:relative}
    .tile img{width:100%;height:100%;object-fit:cover;border-radius:12px;transition:.3s}
    .tile img:hover{transform:scale(1.08)}
    #teddy{width:220px;position:absolute;bottom:10px;left:-250px;transition:all 1s ease}
    #rose{width:100px;position:absolute;bottom:120px;right:50px;display:none}
    #teddyHint{position:absolute;bottom:240px;font-size:22px;color:#ffefef;text-shadow:1px 1px 4px #000;animation:pulse 1.5s infinite}
    @keyframes pulse{0%{opacity:1}50%{opacity:.4}100%{opacity:1}}
    #final-type{font-size:30px;color:#fff;text-shadow:1px 1px 5px #000;max-width:90%;margin:0 auto}
    input{padding:10px;font-size:18px;border-radius:6px;border:none;width:260px;margin-top:12px;text-align:center}
  </style>
</head>
<body>

<!-- Start Screen -->
<section id="start" class="screen">
  <img src="ava.jpg" class="bg" alt="ava">
  <div class="center">
    <h2 style="margin-bottom:20px">‚ù§Ô∏è Jaan ho na aap meri? ‚ù§Ô∏è</h2>
    <button class="btn" onclick="handleYes()">Yes</button>
    <button class="btn" onclick="handleNo(this)">No</button>
  </div>
</section>

<!-- Name Modal -->
<section id="nameModal" class="screen hidden">
  <img src="ava.jpg" class="bg" alt="ava">
  <h2>Enter your full name:</h2>
  <input type="text" id="fullname">
  <button class="btn" onclick="checkName()">Submit</button>
  <p id="hint" style="margin-top:15px;color:#ffb3c6"></p>
</section>

<!-- Quiz -->
<section id="quiz" class="screen hidden">
  <h2>Why are you so amazing?</h2>
  <div id="quiz-options"></div>
</section>

<!-- Teddy Game -->
<section id="teddyGame" class="screen hidden">
  <h2>"Numan should marry whom in this World Competition?"</h2>
  <div class="tile-grid" id="tiles"></div>
</section>

<!-- Final -->
<section id="final" class="screen hidden">
  <img src="bva.png" class="bg" alt="final-bg">
  <div class="center">
    <div style="max-width:900px"><div id="final-type"></div></div>
  </div>
  <img id="teddy" src="teddy.png" alt="teddy">
  <div id="teddyHint" class="hidden">Touch me üß∏üíñ</div>
  <img id="rose" src="rose.png" alt="rose">
</section>

<audio id="bgm" src="ava_ja.mp3" loop></audio>

<script>
const start=document.getElementById('start');
const nameModal=document.getElementById('nameModal');
const quiz=document.getElementById('quiz');
const teddyGame=document.getElementById('teddyGame');
const final=document.getElementById('final');
const fullname=document.getElementById('fullname');
const hint=document.getElementById('hint');
const bgm=document.getElementById('bgm');
const teddy=document.getElementById('teddy');
const rose=document.getElementById('rose');
const teddyHint=document.getElementById('teddyHint');
const finalType=document.getElementById('final-type');

function startMusicIfNeeded(){if(bgm.paused){bgm.play().catch(()=>{});}}

function handleYes(){start.classList.add('hidden');openNameModal();}
function handleNo(btn){btn.innerText=['What?','Why?','I thought you loved me ;(','Please?','Try again ‚ù§Ô∏è'][Math.floor(Math.random()*5)];}

function openNameModal(){
  nameModal.classList.remove('hidden');
  startMusicIfNeeded();
  // continuous hearts
  setInterval(()=>floatBurst(['üíñ','üíï','‚ù§Ô∏è'],1,4000),800);
}

function checkName(){
  const val=fullname.value.trim().toLowerCase();
  if(val==="shaheen hassan"){nameModal.classList.add('hidden');showQuiz();}
  else{if(!hint.innerText)hint.innerText="Maybe try Shaheen with my last name ;)";}
}

function floatBurst(chars,count=10,duration=3000){
  for(let i=0;i<count;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.innerText=chars[Math.floor(Math.random()*chars.length)];
    h.style.left=Math.random()*100+'vw';
    h.style.animationDuration=(2+Math.random()*2)+'s';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),duration);
  }
}

const positives=["Your smile üíï","Your kindness ‚ú®","Your pets üêü","Your magic with food üç≤","Your look üòç","Your hugs ü§ó","Your patience üå∏","Your support üõ°Ô∏è","Your eyes üëÄ"];
const negatives=["Your laziness üòÖ","Your mood swings üå™Ô∏è","Your overthinking ü§Ø","Your stubbornness üêÇ","Your pranks ü§™","Your excuses üôà"];

function showQuiz(){
  quiz.classList.remove('hidden');
  const opts=[...positives.map(x=>({txt:x,pos:true})),...negatives.map(x=>({txt:x,pos:false}))];
  opts.sort(()=>Math.random()-0.5);
  const cont=document.getElementById('quiz-options');
  opts.forEach(o=>{
    const d=document.createElement('div');
    d.className='opt';d.innerText=o.txt;cont.appendChild(d);
    d.onclick=()=>{if(o.pos){d.style.background='#28a745';score++;if(score>=5)unlockTeddy();}else{d.style.opacity=0.4;d.innerText="Nope ‚úñÔ∏è";}};
  });
}
let score=0;
function unlockTeddy(){quiz.classList.add('hidden');showTeddy();}

function showTeddy(){
  teddyGame.classList.remove('hidden');
  const imgs=[{src:'bva.jpg',true:true},{src:'duck.png'},{src:'gulzar.png'},{src:'gabbar.png'},{src:'anjana.png'},{src:'random.png'}];
  imgs.sort(()=>Math.random()-0.5);
  const grid=document.getElementById('tiles');
  imgs.forEach(i=>{
    const t=document.createElement('div');t.className='tile';
    const im=document.createElement('img');im.src=i.src;t.appendChild(im);grid.appendChild(t);
    t.onclick=()=>{if(i.true){teddyGame.classList.add('hidden');showFinal();}else{im.style.transform='scale(0.8)';setTimeout(()=>im.style.transform='scale(1)',400);}}
  });
}

function showFinal(){
  final.classList.remove('hidden');
  setTimeout(()=>{teddy.style.left='50%';teddy.style.transform='translateX(-50%)';teddyHint.classList.remove('hidden');},60);
  floatBurst(['üíñ','üå∏','‚ú®'],12,3000);
  typeWriter("Always yours & I Love You Forever üíñ ‚Äì Aapka Numan",60);
  let taps=0;
  teddy.addEventListener('click',()=>{taps++;teddy.style.transform='translateX(-50%) scale(1.05)';setTimeout(()=>teddy.style.transform='translateX(-50%)',250);if(taps>=2){rose.style.display='block';teddyHint.classList.add('hidden');}});
}

function typeWriter(txt,speed){
  finalType.innerHTML='';let i=0;
  function type(){if(i<txt.length){finalType.innerHTML+=txt.charAt(i);i++;setTimeout(type,speed);}}
  type();
}
</script>
</body>
</html>
