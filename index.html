<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For My Love üíñ</title>
  <style>
    body,html {
      margin:0; padding:0;
      width:100%; height:100%;
      font-family: 'Comic Sans MS', cursive;
      overflow:hidden;
      background:black;
      color:white;
      text-align:center;
    }
    .screen { display:none; width:100%; height:100%; position:absolute; top:0; left:0; }
    .active { display:flex; flex-direction:column; justify-content:center; align-items:center; }

    /* Background */
    .bg {
      position:absolute; top:0; left:0;
      width:100%; height:100%;
      object-fit:cover; z-index:-1;
    }

    button {
      padding:10px 20px;
      margin:10px;
      border:none;
      border-radius:20px;
      background:pink;
      cursor:pointer;
      font-size:18px;
      transition:0.3s;
    }
    button:hover { transform:scale(1.1); }

    /* Floating hearts */
    .heart {
      position:absolute;
      color:red;
      font-size:24px;
      animation: float 5s linear infinite;
    }
    @keyframes float {
      from { transform: translateY(100vh); opacity:1; }
      to { transform: translateY(-10vh); opacity:0; }
    }

    /* Quiz */
    .quiz-options { display:flex; flex-wrap:wrap; max-width:600px; justify-content:center; }
    .quiz-options button { flex:1 1 40%; margin:8px; }

    /* Pick Screen */
    .pick-grid { display:grid; grid-template-columns: repeat(3,1fr); gap:15px; }
    .pick-grid img {
      width:150px; height:150px; object-fit:cover;
      border-radius:10px; cursor:pointer; transition:0.3s;
    }
    .wrong { animation: shake 0.4s; }
    @keyframes shake {
      0% { transform:translateX(0); }
      25% { transform:translateX(-10px); }
      50% { transform:translateX(10px); }
      75% { transform:translateX(-10px); }
      100% { transform:translateX(0); }
    }

    /* Teddy */
    #teddy { width:200px; cursor:pointer; margin-top:20px; }
    #rose { width:120px; display:none; margin-top:20px; }
    .typewriter {
      font-size:22px; white-space:pre-wrap; margin-top:20px;
      border-right:2px solid pink; display:inline-block;
      overflow:hidden; white-space:nowrap;
      animation: typing 4s steps(40,end) forwards, blink 0.8s infinite;
    }
    @keyframes typing { from{ width:0 } to { width:100% } }
    @keyframes blink { 50% { border-color:transparent; } }
  </style>
</head>
<body>

<audio id="bg-music" src="ava_ja.mp3" loop></audio>

<!-- ===== SCREEN 1: Start ===== -->
<div id="start" class="screen active">
  <img src="ava.jpg" class="bg">
  <h1>‚ù§Ô∏è Jaan ho na aap meri? ‚ù§Ô∏è</h1>
  <input id="answer1" placeholder="Type here...">
  <button onclick="checkLove()">Submit</button>
  <p id="start-msg"></p>
</div>

<!-- ===== SCREEN 2: Name ===== -->
<div id="name" class="screen">
  <img src="ava.jpg" class="bg">
  <h2>Enter your full name</h2>
  <input id="fullname" placeholder="Your full name...">
  <button onclick="checkName()">Submit</button>
  <p id="name-msg"></p>
</div>

<!-- ===== SCREEN 3: Quiz ===== -->
<div id="quiz" class="screen">
  <img src="ava.jpg" class="bg">
  <h2>Why are you so amazing?</h2>
  <div class="quiz-options" id="quiz-options"></div>
  <p id="quiz-msg"></p>
</div>

<!-- ===== SCREEN 4: Pick ===== -->
<div id="pick" class="screen">
  <img src="ava.jpg" class="bg">
  <h2>"Numan should marry whom in this world competition?"</h2>
  <div class="pick-grid">
    <img src="bva.jpg" onclick="pickChoice(this,true)">
    <img src="duck.png" onclick="pickChoice(this,false)">
    <img src="gulzar.png" onclick="pickChoice(this,false)">
    <img src="gabbar.png" onclick="pickChoice(this,false)">
    <img src="anjana.png" onclick="pickChoice(this,false)">
    <img src="random.png" onclick="pickChoice(this,false)">
  </div>
  <p id="pick-msg"></p>
</div>

<!-- ===== SCREEN 5: Teddy ===== -->
<div id="teddy-screen" class="screen">
  <img src="bva.jpg" class="bg">
  <h2>Touch me üß∏</h2>
  <img id="teddy" src="teddy.png" onclick="showRose()">
  <img id="rose" src="rose.png">
  <div id="final-text"></div>
</div>

<script>
const music = document.getElementById("bg-music");

// Helper: switch screen
function show(screen){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(screen).classList.add("active");
}

// STEP 1: Love check
function checkLove(){
  music.play();
  const val = document.getElementById("answer1").value.trim().toLowerCase();
  const yesWords = ["yes","ha","haan","hn","hnn","haaa"];
  if(yesWords.includes(val)){
    show("name");
    spawnHearts();
  } else {
    document.getElementById("start-msg").innerText = "What? Why? I thought you loved me ;(";
    setTimeout(()=>{ 
      document.getElementById("start-msg").innerHTML = '<button onclick="show(\'name\')">YES üíñ</button>';
    },2000);
  }
}

// STEP 2: Name trick
let tries=0;
function checkName(){
  const val=document.getElementById("fullname").value.trim().toLowerCase();
  if(val==="shaheen numan"){
    show("quiz");
    buildQuiz();
  } else {
    tries++;
    if(tries>=2){
      document.getElementById("name-msg").innerText="Maybe try Shaheen with my last name ;)";
    } else {
      document.getElementById("name-msg").innerText="Nope, try again üòâ";
    }
  }
}

// STEP 3: Quiz
const positives=[
 "Your smile üíï","Your kindness ‚ú®","Your pets üêü","Your magic with food üç≤",
 "Your look üòç","Your hugs ü§ó","Your laugh üé∂","Your care ü´∂","Your vibes üå∏"
];
const negatives=["Your anger üò°","Your stubbornness üôÑ","Your late replies üì±","Your mood swings üå™Ô∏è","Your pranks üòè","Your fights ü•ä"];

let selectedPos=0;
function buildQuiz(){
  const container=document.getElementById("quiz-options");
  container.innerHTML="";
  const all=[...positives.map(p=>({text:p,good:true})),...negatives.map(n=>({text:n,good:false}))];
  all.sort(()=>Math.random()-0.5);
  all.forEach(opt=>{
    const btn=document.createElement("button");
    btn.innerText=opt.text;
    btn.onclick=()=>{
      if(opt.good){
        btn.style.background="lightgreen";
        btn.disabled=true;
        selectedPos++;
        if(selectedPos>=5) show("pick");
      } else {
        btn.style.display="none";
        document.getElementById("quiz-msg").innerText="Nope üòú";
      }
    };
    container.appendChild(btn);
  });
}

// STEP 4: Pick
function pickChoice(img,correct){
  if(correct){
    show("teddy-screen");
  } else {
    img.classList.add("wrong");
    setTimeout(()=>img.classList.remove("wrong"),400);
    document.getElementById("pick-msg").innerText="Nooo, pick again üòÖ";
  }
}

// STEP 5: Teddy
function showRose(){
  document.getElementById("teddy").style.display="none";
  document.getElementById("rose").style.display="block";
  typeWriter("Always yours & I Love You Forever üíñ ‚Äì Aapka Numan");
}
function typeWriter(text){
  const el=document.getElementById("final-text");
  el.innerHTML="";
  let i=0;
  const interval=setInterval(()=>{
    el.innerHTML=text.substring(0,i)+'<span style="border-right:2px solid pink"></span>';
    i++;
    if(i>text.length){ clearInterval(interval); el.innerHTML=text; }
  },80);
}

// Floating hearts on name screen
function spawnHearts(){
  setInterval(()=>{
    const heart=document.createElement("div");
    heart.className="heart";
    heart.innerText="‚ù§";
    heart.style.left=Math.random()*100+"vw";
    heart.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),5000);
  },500);
}
</script>
</body>
</html>
