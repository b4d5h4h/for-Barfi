<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For My Love ‚ù§Ô∏è</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Background Music -->
  <audio id="bg-music" src="ava_ja.mp3" autoplay loop></audio>

  <!-- Start Screen -->
  <div id="start-screen" class="screen active" style="background-image:url('ava.jpg')">
    <div class="content">
      <h1 class="glow">üíñ Jaan ho na aap meri? üíñ</h1>
      <input type="text" id="name-input" placeholder="Enter your full name">
      <button onclick="checkName()">Submit</button>
      <p id="hint" class="hint"></p>
    </div>
  </div>

  <!-- Quiz Screen -->
  <div id="quiz-screen" class="screen">
    <h2>Why are you so amazing? üíï</h2>
    <div id="options" class="options"></div>
    <p id="quiz-msg"></p>
  </div>

  <!-- Teddy Game Screen -->
  <div id="teddy-screen" class="screen">
    <h2>Numan should marry who in this World Competition? üíç</h2>
    <div class="choices">
      <img src="bva.jpg" class="choice" data-correct="true">
      <img src="duck.png" class="choice">
      <img src="gulzar.png" class="choice">
      <img src="gabbar.png" class="choice">
      <img src="anjana.png" class="choice">
      <img src="random.png" class="choice">
    </div>
  </div>

  <!-- Final Screen -->
  <div id="final-screen" class="screen" style="background-image:url('bva.jpg')">
    <div class="final-message">
      <h1 id="typewriter"></h1>
    </div>
  </div>

  <script>
    // Background music safe autoplay
    document.addEventListener('click', () => {
      const music = document.getElementById('bg-music');
      if (music.paused) music.play();
    }, { once: true });

    // ‚úÖ Fixed Name Check
    let attempts = 0;
    function checkName() {
      const input = document.getElementById("name-input").value.trim().toLowerCase();
      const hint = document.getElementById("hint");

      if (input === "shaheen hassan") {
        goToScreen("quiz-screen");
      } else {
        attempts++;
        if (attempts >= 2) {
          hint.innerText = "Maybe try Shaheen with my last name ;)";
        } else {
          hint.innerText = "Try again üíï";
        }
      }
    }

    // Switch screens
    function goToScreen(id) {
      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");

      if (id === "quiz-screen") loadQuiz();
    }

    // Quiz Options
    const positives = [
      "Your smile üíï", "Your kindness ‚ú®", "Your pets üêü",
      "Your magic with food üç≤", "Your look üòç",
      "Your hugs ü§ó", "Your eyes üëÄ", "Your jokes üòÑ", "Your care üíñ"
    ];
    const negatives = [
      "Being moody üò†", "Always late ‚è∞", "Eating my fries üçü",
      "Ignoring me üòí", "Sleeping too much üò¥", "Your pranks üôà"
    ];
    let selectedPositives = 0;

    function loadQuiz() {
      const allOptions = [...positives, ...negatives]
        .sort(() => Math.random() - 0.5);
      const container = document.getElementById("options");
      container.innerHTML = "";
      allOptions.forEach(opt => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = () => handleAnswer(opt, btn);
        container.appendChild(btn);
      });
    }

    function handleAnswer(opt, btn) {
      if (positives.includes(opt)) {
        btn.classList.add("correct");
        selectedPositives++;
        if (selectedPositives >= 5) {
          document.getElementById("quiz-msg").innerText = "Yesss! You are perfect üòç";
          setTimeout(() => goToScreen("teddy-screen"), 1200);
        }
      } else {
        btn.classList.add("wrong");
        btn.disabled = true;
        document.getElementById("quiz-msg").innerText = "Whoops! Try again üíï";
      }
    }

    // Teddy Game
    document.addEventListener("click", e => {
      if (e.target.classList.contains("choice")) {
        if (e.target.dataset.correct) {
          goToScreen("final-screen");
          typeWriter();
        } else {
          e.target.classList.add("shake");
          setTimeout(() => e.target.classList.remove("shake"), 500);
        }
      }
    });

    // Typewriter Effect
    const finalMsg = "Always yours & I Love You Forever üíñ ‚Äì Numan";
    let i = 0;
    function typeWriter() {
      if (i < finalMsg.length) {
        document.getElementById("typewriter").innerHTML += finalMsg.charAt(i);
        i++;
        setTimeout(typeWriter, 80);
      }
    }
  </script>

  <style>
    body, html {
      margin:0; padding:0; font-family:sans-serif;
      background:#000; color:white; text-align:center;
      height:100%; overflow:hidden;
    }
    .screen { display:none; height:100vh; width:100vw;
      background-size:cover; background-position:center;
      justify-content:center; align-items:center; flex-direction:column; }
    .screen.active { display:flex; }
    .content { background:rgba(0,0,0,0.6); padding:20px; border-radius:10px; }
    .glow { text-shadow:0 0 10px pink,0 0 20px red; }
    input { padding:10px; margin:10px; }
    button { margin:5px; padding:10px 20px; font-size:16px; cursor:pointer; }
    .options { display:flex; flex-wrap:wrap; justify-content:center; }
    .options button { margin:5px; padding:10px; border:none; border-radius:5px; }
    .correct { background:green; color:white; }
    .wrong { background:red; color:white; }
    .choices img { width:120px; margin:10px; cursor:pointer; transition:0.3s; }
    .choices img.shake { transform:translateX(-10px); }
    .final-message { background:rgba(0,0,0,0.5); padding:20px; }
    .hint { margin-top:10px; color:yellow; }
  </style>
</body>
</html>
